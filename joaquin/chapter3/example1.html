<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>Test</title>
    <style type="text/css">
        body{font-size:13px;}
        p{margin:0;}
        #content {border:#999 1px solid;padding:10px;}
        #input {border:#999 1px solid;padding:10px;margin-top:20px;font-family:'Lucida Console';line-height:1.3;color:#666;}
        #codeContainer{margin-left:20px;}
        #code {display:block;box-sizing:border-box;width:100%;border:#eee 1px dotted;padding:5px 10px;color:#ff6600;font-family:'Lucida Console';}
    </style>
</head>
<body>
<div id="content">
    <ul>
        <li>list item 1</li>
        <li>list item 2</li>
        <li>list item 3</li>
    </ul>
    <p>paragraph 1</p>
    <p>paragraph 2</p>
    <p>paragraph 3</p>
    <hr />
    <button id="exec">excute !</button>
    <button id="hint1">hint #1</button>
    <button id="hint2">hint #2</button>
    <button id="hint3">hint #3</button>
</div>
<div id="input">
    <p>var a = content.getElementsByTagName('li');</p>
    <p>var b = content.getElementsByTagName('p');</p>
    <p>console.log("a", a);</p>
    <p>console.log("b", b);</p>
    <p>function excute() {</p>
    <div id="codeContainer"><textarea id="code" rows="10"></textarea></div>
    <p>}</p>
</div>
<script type="text/javascript">
    var content = document.getElementById('content'),
        code = document.getElementById('code'),
        exec = document.getElementById('exec'),
        hint1 = document.getElementById('hint1'),
        hintArr1 = [
            "for (i = 0; i < a.length; i++) {",
            "    a[i].style.color = 'red';",
            "}",
            "for (i = 0; i < b.length; i++) {",
            "    b[i].style.color = 'red';",
            "}",
        ],
        hintArr2 = [
            "a.map(function (arg) {",
            "    arg.style.color = 'red';",
            "});",
            "b.map(function (arg) {",
            "    arg.style.color = 'red';",
            "});",
        ],
        hintArr3 = [
            "var c = [];",
            "Array.prototype.push.apply(c, a);",
            "Array.prototype.push.apply(c, b);",
            "console.log('c', c);",
            "c.map(function (arg) {",
            "    arg.style.color = 'red';",
            "});",
        ],
        hintMax1 = hintArr1.length,
        hintMax2 = hintArr2.length,
        hintMax3 = hintArr3.length,
        hintCount1 = 0,
        hintCount2 = 0,
        hintCount3 = 0;
    exec.addEventListener('click', function() {
        var str = code.value;
        eval(str);
    });
    hint1.addEventListener('click', function() {
        if(hintArr1[hintCount1] !== undefined) {
            code.value += hintArr1[hintCount1]+ '\n';
            hintCount1++;
        } else {
            hint1.disabled = true;
        }
    });
    hint2.addEventListener('click', function() {
        if(hintArr2[hintCount2] !== undefined) {
            code.value += hintArr2[hintCount2]+ '\n';
            hintCount2++;
        } else {
            hint2.disabled = true;
        }
    });
    hint3.addEventListener('click', function() {
        if(hintArr3[hintCount3] !== undefined) {
            code.value += hintArr3[hintCount3]+ '\n';
            hintCount3++;
        } else {
            hint3.disabled = true;
        }
    });


    //pre code
    var a = content.getElementsByTagName('li');
    var b = content.getElementsByTagName('p');
    console.log("a", a);
    console.log("b", b);


</script>
</body>
</html>
